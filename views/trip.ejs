<html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">


  <!-- set viewport to device width to make site responsive -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- bootstrap css -->
  <link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- custom styles -->
    <link rel="stylesheet" type="text/css" href="/styles/trip.css">
<script type='text/javascript' src='https://maps.googleapis.com/maps/api/js?key=AIzaSyBVLS8tZmEUWNSzbNrQbjx3TcM2PnTSXus
&libraries=geometry,places'> </script>
    <!-- jquery -->
<script type="text/javascript" src="/scripts/jquery.js"></script>
    <!-- bootstrap js -->
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <!-- custom script -->
    <% if(!ssn.trip) { %>
  <script type="text/javascript" src="/scripts/trip.js"></script>
<% } else { %>
  <script type="text/javascript" src="/scripts/post.js"></script>
<% } %>
  <title>Trip</title>
</head>
<body>
  <% if(!ssn.trip) { %>
  <div id='map'>
</div>
<div class='container'>
  <div class='col-10 offset-1'>
<button class='btn btn-primary col-12' data-target='#Start_Trip' data-toggle="modal">Start Trip</button>
</div>
<div class="modal fade" id="Start_Trip" tabindex="-1" role="dialog" aria-labelledby="Start_Trip" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Start Trip</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method='post' action='/trip' enctype="multipart/form-data" id='trip'>  <!-- allow multipart data -->

          <div class="form-group">
            <label for="name" class="col-form-label">Name:</label>
            <input type="text" class="form-control" id="name" name='name' placeholder="name">
          </div>
          <div class="form-group">
            <label for="description" class="col-form-label">Description</label>
            <input type="text" class="form-control" id="description" name='description' placeholder="Description">
          </div>
          <div class="form-group">
            <label for="image" class="col-form-label">Images</label>
            <input type="file" class="form-control" id="image" name='myImage' placeholder="Add Images"  multiple>
          </div>
          <input type='hidden' name='lat' >
            <input type='hidden' name='lng' >
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-success" id='btn_start_trip' >Start Trip</button>
        </form>
      </div>
    </div>
  </div>
</div>

</div>
<% } else{ %>

  <div id='map'>
</div>
<div class='container'>
<div class='row'>
  <div class='col-10 offset-1'>
<button class='btn btn-success col-12' data-target='#add_trip' data-toggle="modal">Add Posts</button>
<button class='btn btn-danger col-12' data-target='#end_Trip' data-toggle="modal">End Your Trip</button>
</div>
</div>
<div class="modal fade" id="add_trip" tabindex="-1" role="dialog" aria-labelledby="add_post" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add to Trip</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method='post' enctype="multipart/form-data" id='add_post'>  <!-- allow multipart data -->

          <div class="form-group">
            <label for="name" class="col-form-label">title:</label>
            <input type="text" class="form-control" id="name" name='name' placeholder="name">
          </div>
          <div class="form-group">
            <label for="description" class="col-form-label">Description</label>
            <input type="text" class="form-control" id="description" name='description' placeholder="Description">
          </div>
          <div class="form-group">
            <label for="image" class="col-form-label">Images</label>
            <input type="file" class="form-control" id="image" name='myImage' placeholder="Add Images"  multiple>
          </div>
          <input type='hidden' name='lat' >
            <input type='hidden' name='lng' >
            <input type='hidden' name='place_id' >
              <input type='hidden' name='street' >
                <input type='hidden' name='city' >
                  <input type='hidden' name='state' >
                  <input type='hidden' name='zip_code' >
                    <input type='hidden' name='place_name' >
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-success" id='btn_add_post' >Add Post</button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="end_Trip" tabindex="-1" role="dialog" aria-labelledby="end_Trip" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">End Trip</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method='post' action='/post' enctype="multipart/form-data" id='end_trip'>  <!-- allow multipart data -->


          <div class="form-group">
            <label for="description_end" class="col-form-label">Description</label>
            <input type="text" class="form-control" id="description_end" name='description' placeholder="Description">
          </div>
          <div class="form-group">
            <label for="image_end" class="col-form-label">Images</label>
            <input type="file" class="form-control" id="image_end" name='myImage' placeholder="Add Images"  multiple>
          </div>
          <input type='hidden' name='lat' >
            <input type='hidden' name='lng' >
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-success" id='btn_end_trip' >End Trip</button>
        </form>
      </div>
    </div>
  </div>
</div>
</div>

  <% } %>
<footer class='footer'>
  <div class='container'>
    <div class='row'>
      <div class='nav-link col-3 '>
      <a href='/home'><i class="fa fa-home"></i></a>
      </div>
      <div class='nav-link col-3 '>
        <a href='/search'><i class="fa fa-search"></i></a>
      </div>
      <div class='nav-link col-3 active'>
      <a href='/trip'>  <i class="fa fa-plus-circle"></i></a>
      </div>
    <div class='nav-link col-3'>
    <a href='/user'>  <i class="fa fa-user"></i></a>
    </div>
  </div>
</div>
</footer>
</body>
</html>
